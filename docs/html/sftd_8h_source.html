<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Mult-UIP: sft/sftd.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="dir_e74d5e5dc94aed483c4075561ea355c1.html">sft</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>sftd.h</h1>  </div>
</div>
<div class="contents">
<a href="sftd_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00013"></a>00013 <span class="preprocessor">#ifndef SFTD_H_</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define SFTD_H_</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="uipopt_8h.html">uipopt.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="uip-conf_8h.html">uip-conf.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;../mult/api_services.h&quot;</span>
<a name="l00019"></a>00019 
<a name="l00023"></a><a class="code" href="sftd_8h.html#a7bbd4dd96f752e1a658cd868530e3fdd">00023</a> <span class="preprocessor">#define SFTD_BUFFER_DATA 1500</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00030"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022f">00030</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00031"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fad7fd527e9b09b1822fbee87683a69937">00031</a>         <a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fad7fd527e9b09b1822fbee87683a69937">ST_INIT</a>=0,              <span class="comment">//ESTADO INICIAL</span>
<a name="l00032"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fae5b1b669db253d6e5fc39e11f8b5c80e">00032</a>         ST_RECV,                <span class="comment">//RECEBENDO PACOTE DO HOST</span>
<a name="l00033"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fac4f1efae58c66b8a0ed76e495684b155">00033</a>         ST_WAIT_RECV,   <span class="comment">//AGUARDANDO PARTES DO ARQUIVO QUE ESTÁ SENDO RECEBIDO</span>
<a name="l00034"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fac915f56542bf118b5b6181e54445efad">00034</a>         ST_FINISHED_RECV,<span class="comment">//FINALIVOU O RECEBIMENTO</span>
<a name="l00035"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fa0b28ee57d123c52ba7f693317cbfd575">00035</a>         ST_SEND,                <span class="comment">//ENVIANDO PACOTES PARA O HOST</span>
<a name="l00036"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022faa9df1436845923918c3e2ffb63bec31d">00036</a>         ST_WAIT_SEND,   <span class="comment">//AGUARDANDO CONFIRMAÇÃO PARA ENVIO DE OUTRA PARTE DO PACOTE</span>
<a name="l00037"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fad5aebe45299de8e39d7ee1cf54525e24">00037</a>         ST_FINISHED_SEND,<span class="comment">//TERMINOU O ENVIO O PACOTE</span>
<a name="l00038"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fa04b939c166d4baa471909eb224d5fed3">00038</a>         ST_STOP,
<a name="l00039"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fa1fc9ef256f480d5bbd296aaa92c07b3e">00039</a>         ST_RECVU,               <span class="comment">//RECEBENDO PACOTES DO HOST SEM SEGURANCA</span>
<a name="l00040"></a><a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fa44e526f8b789a93cf9bffc45a5aeaa07">00040</a>         <a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022fa44e526f8b789a93cf9bffc45a5aeaa07">ST_CLOSE</a>
<a name="l00041"></a>00041 } sft_st;
<a name="l00042"></a>00042 
<a name="l00048"></a><a class="code" href="sftd_8h.html#a698dfd82c5a5a0fa6dee46c157bc2e4f">00048</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00049"></a><a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fa91dd4f615594c8882f25e5457596ac25">00049</a>         <a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fa91dd4f615594c8882f25e5457596ac25">CMD_RECV</a> =0,
<a name="l00050"></a><a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fabd786962c55320c4cb40358afaed468f">00050</a>         CMD_RECV_ANS,
<a name="l00051"></a><a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fa1e0ceff2d6f13742786f42dac58149bc">00051</a>         CMD_STOP,
<a name="l00052"></a><a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fa9d46894e135999a4db05e1670dcf2b69">00052</a>         CMD_RECV_SEQ,
<a name="l00053"></a><a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fa4fe06469b0604dc5a26a64882560c5da">00053</a>         CMD_FINISHED,
<a name="l00054"></a><a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fa8b4a95e680f732e89f2737fba63ee7b7">00054</a>         CMD_RECV_X,
<a name="l00055"></a><a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4faf19ed9b5eb85a1f1f9931bd69f6cd748">00055</a>         CMD_RECVU,
<a name="l00056"></a><a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fa3e631e656523983cc0e572e93cae27c6">00056</a>         CMD_ERROR,
<a name="l00057"></a><a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fa384b8b0439817da86b68b1dad85c9993">00057</a>         <a class="code" href="group__tools.html#ga698dfd82c5a5a0fa6dee46c157bc2e4fa384b8b0439817da86b68b1dad85c9993">CMD_MSG</a>
<a name="l00058"></a>00058 } cmd_sft;
<a name="l00059"></a>00059 
<a name="l00066"></a><a class="code" href="structsftd__state.html">00066</a> <span class="keyword">struct </span><a class="code" href="structsftd__state.html" title="Estrutura protocolo SFT.">sftd_state</a> {
<a name="l00067"></a><a class="code" href="structsftd__state.html#a7592a31166152ec71e5c82df4bec0ff6">00067</a>   <span class="keywordtype">char</span> <a class="code" href="structsftd__state.html#a7592a31166152ec71e5c82df4bec0ff6">buff</a>[SFTD_BUFFER_DATA];
<a name="l00068"></a><a class="code" href="structsftd__state.html#a880aa9d9dc3a838772d4ce434b5adf59">00068</a>   <span class="keywordtype">int</span> <a class="code" href="structsftd__state.html#a880aa9d9dc3a838772d4ce434b5adf59">len_buff</a>;
<a name="l00069"></a><a class="code" href="structsftd__state.html#aa96301eab5ae247fc2a8e6e6c526fec8">00069</a>   <span class="keywordtype">char</span> <a class="code" href="structsftd__state.html#aa96301eab5ae247fc2a8e6e6c526fec8">data_send</a>[SFTD_BUFFER_DATA];
<a name="l00070"></a><a class="code" href="structsftd__state.html#a358d042191980bf59769f7db60e0e116">00070</a>   <span class="keywordtype">int</span> <a class="code" href="structsftd__state.html#a358d042191980bf59769f7db60e0e116">len_send</a>;
<a name="l00071"></a><a class="code" href="structsftd__state.html#a23fcaaae4f5f1874069db0d74550c6b7">00071</a>   <span class="keywordtype">int</span> <a class="code" href="structsftd__state.html#a23fcaaae4f5f1874069db0d74550c6b7">mf</a>;
<a name="l00072"></a><a class="code" href="structsftd__state.html#a79a4ba0983912c7066e1f324ee126c58">00072</a>   <span class="keywordtype">int</span> <a class="code" href="structsftd__state.html#a79a4ba0983912c7066e1f324ee126c58">nr_pkt</a>;
<a name="l00073"></a><a class="code" href="structsftd__state.html#a605709a687f776374adee211a843181e">00073</a>   <span class="keywordtype">int</span> <a class="code" href="structsftd__state.html#a605709a687f776374adee211a843181e">id</a>;
<a name="l00074"></a><a class="code" href="structsftd__state.html#a0018f34317e438d32f3b5de5f1adc794">00074</a>   <a class="code" href="sftd_8h.html#a698dfd82c5a5a0fa6dee46c157bc2e4f" title="Servicos disponiveis pelo protocolo SFT.">cmd_sft</a> <a class="code" href="structsftd__state.html#a0018f34317e438d32f3b5de5f1adc794">cmd</a>;
<a name="l00075"></a><a class="code" href="structsftd__state.html#acee890ae951e741a8c81d459f151770f">00075</a>   <a class="code" href="sftd_8h.html#a698dfd82c5a5a0fa6dee46c157bc2e4f" title="Servicos disponiveis pelo protocolo SFT.">cmd_sft</a> <a class="code" href="structsftd__state.html#acee890ae951e741a8c81d459f151770f">cmd_answer</a>;
<a name="l00076"></a><a class="code" href="structsftd__state.html#aa9fadd1aca3bdd4ab6b2ffacf1bfc4a8">00076</a>   <a class="code" href="sftd_8h.html#a0d1bbcd6042d3b55934498867962022f" title="sft_st Estrutura com os estados do protocolo.">sft_st</a> <a class="code" href="structsftd__state.html#aa9fadd1aca3bdd4ab6b2ffacf1bfc4a8">state</a>;
<a name="l00077"></a>00077 };
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 
<a name="l00084"></a><a class="code" href="structsft__hdr__uip.html">00084</a> <span class="keyword">struct </span><a class="code" href="structsft__hdr__uip.html" title="Estrutura de um pacote SFT Acrescentado de 1 caracter == &amp;#39;&amp;#39;.">sft_hdr_uip</a>{
<a name="l00085"></a><a class="code" href="structsft__hdr__uip.html#a2524d78df43082cbce489e0a78044285">00085</a>         <span class="keywordtype">char</span> <a class="code" href="structsft__hdr__uip.html#a2524d78df43082cbce489e0a78044285">cmd</a>[3];
<a name="l00086"></a><a class="code" href="structsft__hdr__uip.html#aa97a931508c8f23b3dc8a00723ee9a75">00086</a>         <span class="keywordtype">char</span> <a class="code" href="structsft__hdr__uip.html#aa97a931508c8f23b3dc8a00723ee9a75">len</a>[5];
<a name="l00087"></a><a class="code" href="structsft__hdr__uip.html#afb2145a0a7cc70591facbf8ae04335be">00087</a>         <span class="keywordtype">char</span> <a class="code" href="structsft__hdr__uip.html#afb2145a0a7cc70591facbf8ae04335be">mf</a>[2];
<a name="l00088"></a><a class="code" href="structsft__hdr__uip.html#accc142816cf549a0c5806864038bd585">00088</a>         <span class="keywordtype">char</span> <a class="code" href="structsft__hdr__uip.html#accc142816cf549a0c5806864038bd585">nro_pkt</a>[3];
<a name="l00089"></a><a class="code" href="structsft__hdr__uip.html#a2d2b5f84a84e81873f22044d271e7898">00089</a>         <span class="keywordtype">char</span> <span class="keywordtype">id</span>[4];
<a name="l00090"></a><a class="code" href="structsft__hdr__uip.html#a1d69600702789f4cd1fc0ec907fe9f4c">00090</a>         <span class="keywordtype">char</span> <a class="code" href="structsft__hdr__uip.html#a1d69600702789f4cd1fc0ec907fe9f4c">buff_send</a>[<a class="code" href="sftd_8h.html#a7bbd4dd96f752e1a658cd868530e3fdd" title="Tamanho do buffer de cada pacote.">SFTD_BUFFER_DATA</a>+1];
<a name="l00091"></a>00091 };
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 <span class="keywordtype">void</span> <a class="code" href="group__SFTD.html#gab05d3fde000321e5a849ec084474caf2" title="Inicializa servico do protocolo SFT.">sftd_init</a>(<span class="keywordtype">void</span>);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="keywordtype">void</span> <a class="code" href="group__SFTD.html#ga95d5c450883e216dccebd10b4adbca3c" title="Funcao tratados de pacotes do tipo SFT.">sftd_appcall</a>(<span class="keywordtype">void</span>);
<a name="l00097"></a>00097 <span class="keywordtype">void</span> <a class="code" href="group__SFTD.html#ga0dd45f928eb9fd92057c3030a3718397" title="Envia pacotes do tipo SFT.">sft_senddata</a>(<span class="keyword">struct</span> <a class="code" href="structsftd__state.html" title="Estrutura protocolo SFT.">sftd_state</a> *s);
<a name="l00098"></a>00098 <span class="keywordtype">int</span> <a class="code" href="group__SFTD.html#ga3ba5af4fe8714e70fca97e743011e163" title="Trata pacotes do tipo SFT.">sft_trata</a>(<span class="keyword">struct</span> <a class="code" href="structsftd__state.html" title="Estrutura protocolo SFT.">sftd_state</a> *s);
<a name="l00099"></a>00099 <span class="keywordtype">void</span> <a class="code" href="group__SFTD.html#ga77244ac0ad98e8d5ff310132595c4612" title="Coloca protocolo em estado de fechado.">sft_closed</a>(<span class="keyword">struct</span> <a class="code" href="structsftd__state.html" title="Estrutura protocolo SFT.">sftd_state</a> *s);
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">//funcoes para os comandos</span>
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 <span class="keywordtype">void</span> <a class="code" href="group__SFTD.html#gab0520adf98ea71f71de3d1f42c778fac" title="Carrega Imagem vinda do protocolo para o display.">carrega_img</a>(<span class="keyword">struct</span> <a class="code" href="structsftd__state.html" title="Estrutura protocolo SFT.">sftd_state</a> *s);
<a name="l00105"></a>00105 <span class="keywordtype">void</span> <a class="code" href="group__SFTD.html#ga7a80643708e17a7a7b3b7980ea3f901b" title="Carrega Imagem vinda do protocolo para o display sem seguranca.">carrega_imgu</a>(<span class="keyword">struct</span> <a class="code" href="structsftd__state.html" title="Estrutura protocolo SFT.">sftd_state</a> *s);
<a name="l00106"></a>00106 <span class="keywordtype">void</span> <a class="code" href="group__SFTD.html#gaffb793b26caefd07873afa01ace4ee61" title="Antiga funcao usada para tratar imagens do tipo geral.">carrega_img_old</a>(<span class="keyword">struct</span> <a class="code" href="structsftd__state.html" title="Estrutura protocolo SFT.">sftd_state</a> *s);
<a name="l00107"></a>00107 <span class="keywordtype">void</span> <a class="code" href="group__SFTD.html#gabb1d77f4fcd81b5a3bd4022b62d7f7e0" title="Monta e envia protocolo SFT pedindo STOP no envio de dados.">info_host_ans</a>(<span class="keyword">struct</span> <a class="code" href="structsftd__state.html" title="Estrutura protocolo SFT.">sftd_state</a> *s, <span class="keywordtype">int</span> cmd);
<a name="l00108"></a>00108 <span class="keywordtype">void</span> <a class="code" href="group__SFTD.html#gabe069b166e0011721dbd75c84b64660e" title="Carrega Mensagem vinda do protocolo para o display.">envia_msg</a>(<span class="keyword">struct</span> <a class="code" href="structsftd__state.html" title="Estrutura protocolo SFT.">sftd_state</a> *s);
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 <span class="preprocessor">#endif </span><span class="comment">/* SFTD_H_ */</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Jun 17 2011 01:55:43 for Mult-UIP by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
