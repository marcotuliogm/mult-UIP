\hypertarget{cli_8c}{
\section{cli/cli.c File Reference}
\label{cli_8c}\index{cli/cli.c@{cli/cli.c}}
}


Interpretacao dos comandos digitados na CLI.  


{\ttfamily \#include \char`\"{}cli.h\char`\"{}}\par
{\ttfamily \#include \char`\"{}menu\_\-cli.h\char`\"{}}\par
{\ttfamily \#include $<$string.h$>$}\par
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__CLI_ga174d68ea31b56b93d67f549520156b82}{AUTO\_\-COMPLETE}~0x1b
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__CLI_ga6fdb603107a7e72ff375cebbe2e98834}{mount\_\-token} (char $\ast$data)
\begin{DoxyCompactList}\small\item\em Monta a estrutura para acesso a tabela da CLI. \item\end{DoxyCompactList}\item 
int \hyperlink{group__CLI_ga51e54cd2d0893765bc23ac6d5d09d764}{CLI\_\-Builder} (char $\ast$data, char $\ast$dest)
\begin{DoxyCompactList}\small\item\em Atende solicitacao da CLI. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_ga5e8645941f27ac06c8c1840431b89693}{cmdExec} (int($\ast$ApiFunc)(\hyperlink{structstr__t}{str\_\-t} $\ast$tp))
\begin{DoxyCompactList}\small\item\em Funcao que executa solicitacao feita na CLI. \item\end{DoxyCompactList}\item 
int \hyperlink{group__CLI_ga8baf10611274f6c9d0470f2bb87cfde5}{ExecCommand} (const \hyperlink{structcli__str}{cli\_\-str} $\ast$acp)
\begin{DoxyCompactList}\small\item\em Funcao gerencia a mensagem de resposta. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_ga1429ebccb99aee0282eeff302630c26f}{UARTTakeString} (char $\ast$str, char channel)
\begin{DoxyCompactList}\small\item\em Pega mensagem da serial. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_ga056bc670f671c73a63bb884f8164dbb3}{set\_\-IpDefault} (void)
\begin{DoxyCompactList}\small\item\em Configura com o IP inicial. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_gac548b8fa3585f3a56498153281b68db8}{set\_\-GatewayDefault} (void)
\begin{DoxyCompactList}\small\item\em Configura com o Gateway inicial. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_ga595578a069e4bda66aa7f801f3d19899}{set\_\-MaskDefault} (void)
\begin{DoxyCompactList}\small\item\em Configura com a mascara inicial. \item\end{DoxyCompactList}\item 
int \hyperlink{cli_8c_adb15247f5d19cf62403ec01586f3de36}{UARTTakeStringAsync} (char $\ast$str, char channel)
\begin{DoxyCompactList}\small\item\em Pega mensagem da serial assincrono. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structcli__str}{cli\_\-str} const \hyperlink{group__CLI_ga98f1d676d13f3f00c5ffc7b94a4f4ae1}{api\_\-cli} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em Lista com todas as funcoes da CLI. \item\end{DoxyCompactList}\item 
char \hyperlink{group__CLI_gae9fba632af0bc2e0d51efda2768bbc98}{buff\_\-cmd} \mbox{[}MAX\_\-COMMAND\_\-SIZE\mbox{]}
\item 
int \hyperlink{group__CLI_ga559568f2d8d01bc809c6b12c2f214a5f}{buff\_\-cmd\_\-counter} = 0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Recebe a informacao feita na CLI Interpreta, monta token com todos os parametros e chama funcao correspondente para tratar solicitacao.

\begin{DoxyAuthor}{Author}
Marco Tulio Martins 
\end{DoxyAuthor}


Definition in file \hyperlink{cli_8c_source}{cli.c}.



\subsection{Function Documentation}
\hypertarget{cli_8c_adb15247f5d19cf62403ec01586f3de36}{
\index{cli.c@{cli.c}!UARTTakeStringAsync@{UARTTakeStringAsync}}
\index{UARTTakeStringAsync@{UARTTakeStringAsync}!cli.c@{cli.c}}
\subsubsection[{UARTTakeStringAsync}]{\setlength{\rightskip}{0pt plus 5cm}int UARTTakeStringAsync (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{ str, }
\item[{char}]{ channel}
\end{DoxyParamCaption}
)}}
\label{cli_8c_adb15247f5d19cf62403ec01586f3de36}
Pega os dados digitados na CLI ate que venha uma nova linha. Não é bloqueante.


\begin{DoxyParams}{Parameters}
\item[{\em str}]string para o retorno do comando digitado \item[{\em channel}]Canal que sera usado pela serial.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 -\/ se Ok, -\/1 se buffer ainda não esta completo. 
\end{DoxyReturn}


Definition at line 345 of file cli.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{cli_8c_adb15247f5d19cf62403ec01586f3de36_cgraph}
\end{center}
\end{figure}


