\hypertarget{group__psock}{
\section{Protosockets library}
\label{group__psock}\index{Protosockets library@{Protosockets library}}
}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structpsock__buf}{psock\_\-buf}
\item 
struct \hyperlink{structpsock}{psock}
\end{DoxyCompactItemize}
\subsection*{Files}
\begin{DoxyCompactItemize}
\item 
file \hyperlink{psock_8h}{psock.h}
\end{DoxyCompactItemize}
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__psock_ga26ae707402e494f3895a9f012a93ea29}{PSOCK\_\-INIT}(\hyperlink{structpsock}{psock}, buffer, buffersize)
\item 
\#define \hyperlink{group__psock_ga84901a5aa60040e96d272a69977edd22}{PSOCK\_\-BEGIN}(\hyperlink{structpsock}{psock})
\item 
\#define \hyperlink{group__psock_ga70d236d1cf34b4e21836edda60247b70}{PSOCK\_\-SEND}(\hyperlink{structpsock}{psock}, data, datalen)
\item 
\#define \hyperlink{group__psock_gab0ad55aa96dd1d200cd0fc5a99f6a4f7}{PSOCK\_\-SEND\_\-STR}(\hyperlink{structpsock}{psock}, str)
\begin{DoxyCompactList}\small\item\em Send a null-\/terminated string. \item\end{DoxyCompactList}\item 
\#define \hyperlink{group__psock_ga10d9a9201cba1a6db623284c475c6cea}{PSOCK\_\-GENERATOR\_\-SEND}(\hyperlink{structpsock}{psock}, generator, arg)
\begin{DoxyCompactList}\small\item\em Generate data with a function and send it. \item\end{DoxyCompactList}\item 
\#define \hyperlink{group__psock_ga5d56800f82bfc7bbf53bb4a659589812}{PSOCK\_\-CLOSE}(\hyperlink{structpsock}{psock})
\item 
\#define \hyperlink{group__psock_gad895ab98c54d9966ff554aa873151751}{PSOCK\_\-READBUF}(\hyperlink{structpsock}{psock})
\item 
\#define \hyperlink{group__psock_gab5d9c0becf7cb32d0aaef466839dd92e}{PSOCK\_\-READTO}(\hyperlink{structpsock}{psock}, c)
\item 
\#define \hyperlink{group__psock_ga4ab2de595d36e9e55dd61f6ecd139162}{PSOCK\_\-DATALEN}(\hyperlink{structpsock}{psock})
\item 
\#define \hyperlink{group__psock_gafa11b2a1faf395ae2a6626e01c482d5d}{PSOCK\_\-EXIT}(\hyperlink{structpsock}{psock})
\item 
\#define \hyperlink{group__psock_gac7cc1dba1819f7fcdaa9ff9eed5a08f4}{PSOCK\_\-CLOSE\_\-EXIT}(\hyperlink{structpsock}{psock})
\item 
\#define \hyperlink{group__psock_ga4a264bb64ae706d53f572b1d9e4037a2}{PSOCK\_\-END}(\hyperlink{structpsock}{psock})
\item 
\#define \hyperlink{group__psock_ga55ce98ea4d6f22e9d5068b904d4d2447}{PSOCK\_\-NEWDATA}(\hyperlink{structpsock}{psock})
\item 
\#define \hyperlink{group__psock_ga2ebfe5c8a7f3173714efdf2df74fc392}{PSOCK\_\-WAIT\_\-UNTIL}(\hyperlink{structpsock}{psock}, condition)
\item 
\#define \hyperlink{group__psock_gaa87ff36af81990e6ffe20d76d5e4606f}{PSOCK\_\-WAIT\_\-THREAD}(\hyperlink{structpsock}{psock}, condition)~PT\_\-WAIT\_\-THREAD(\&((\hyperlink{structpsock}{psock})-\/$>$\hyperlink{structpt}{pt}), (condition))
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__psock_ga86cc77c910c9a27b614fedf3ff8294bf}{psock\_\-init} (struct \hyperlink{structpsock}{psock} $\ast$\hyperlink{structpsock}{psock}, char $\ast$buffer, unsigned int buffersize)
\item 
\hyperlink{group__psock_ga712420c615c932642b69c6c0bb8d13ac}{PT\_\-THREAD} (psock\_\-send(struct \hyperlink{structpsock}{psock} $\ast$\hyperlink{structpsock}{psock}, const char $\ast$buf, unsigned int len))
\item 
\hyperlink{group__psock_ga7440860cfbffad961f993737932d17d7}{PT\_\-THREAD} (psock\_\-generator\_\-send(struct \hyperlink{structpsock}{psock} $\ast$\hyperlink{structpsock}{psock}, unsigned short($\ast$f)(void $\ast$), void $\ast$arg))
\item 
\hyperlink{group__psock_gadb49ec06eee4fb369d8d3a414143bb14}{PT\_\-THREAD} (psock\_\-readbuf(struct \hyperlink{structpsock}{psock} $\ast$\hyperlink{structpsock}{psock}))
\item 
\hyperlink{group__psock_ga3b0505ebccc87d4c1ab7b0e875d53839}{PT\_\-THREAD} (psock\_\-readto(struct \hyperlink{structpsock}{psock} $\ast$\hyperlink{structpsock}{psock}, unsigned char c))
\item 
\hyperlink{group__uipfw_ga77570ac4fcab86864fa1916e55676da2}{u16\_\-t} \hyperlink{group__psock_ga3178402dd725776415bf9745e7bf92ba}{psock\_\-datalen} (struct \hyperlink{structpsock}{psock} $\ast$\hyperlink{structpsock}{psock})
\item 
char \hyperlink{group__psock_ga3b19f65e48079d8105be2a99b5b4b2ae}{psock\_\-newdata} (struct \hyperlink{structpsock}{psock} $\ast$s)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The protosocket library provides an interface to the uIP stack that is similar to the traditional BSD socket interface. Unlike programs written for the ordinary uIP event-\/driven interface, programs written with the protosocket library are executed in a sequential fashion and does not have to be implemented as explicit state machines.

Protosockets only work with TCP connections.

The protosocket library uses \hyperlink{group__pt}{Pt} protothreads to provide sequential control flow. This makes the protosockets lightweight in terms of memory, but also means that protosockets inherits the functional limitations of protothreads. Each protosocket lives only within a single function. Automatic variables (stack variables) are not retained across a protosocket library function call.

\begin{DoxyNote}{Note}
Because the protosocket library uses protothreads, local variables will not always be saved across a call to a protosocket library function. It is therefore advised that local variables are used with extreme care.
\end{DoxyNote}
The protosocket library provides functions for sending data without having to deal with retransmissions and acknowledgements, as well as functions for reading data without having to deal with data being split across more than one TCP segment.

Because each protosocket runs as a protothread, the protosocket has to be started with a call to \hyperlink{group__psock_ga84901a5aa60040e96d272a69977edd22}{PSOCK\_\-BEGIN()} at the start of the function in which the protosocket is used. Similarly, the protosocket protothread can be terminated by a call to \hyperlink{group__psock_gafa11b2a1faf395ae2a6626e01c482d5d}{PSOCK\_\-EXIT()}. 

\subsection{Define Documentation}
\hypertarget{group__psock_ga84901a5aa60040e96d272a69977edd22}{
\index{psock@{psock}!PSOCK\_\-BEGIN@{PSOCK\_\-BEGIN}}
\index{PSOCK\_\-BEGIN@{PSOCK\_\-BEGIN}!psock@{psock}}
\subsubsection[{PSOCK\_\-BEGIN}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-BEGIN(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga84901a5aa60040e96d272a69977edd22}
Start the protosocket protothread in a function.

This macro starts the protothread associated with the protosocket and must come before other protosocket calls in the function it is used.


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket to be started. \end{DoxyParams}


Definition at line 158 of file psock.h.

\hypertarget{group__psock_ga5d56800f82bfc7bbf53bb4a659589812}{
\index{psock@{psock}!PSOCK\_\-CLOSE@{PSOCK\_\-CLOSE}}
\index{PSOCK\_\-CLOSE@{PSOCK\_\-CLOSE}!psock@{psock}}
\subsubsection[{PSOCK\_\-CLOSE}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-CLOSE(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga5d56800f82bfc7bbf53bb4a659589812}
Close a protosocket.

This macro closes a protosocket and can only be called from within the protothread in which the protosocket lives.


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket that is to be closed. \end{DoxyParams}


Definition at line 235 of file psock.h.

\hypertarget{group__psock_gac7cc1dba1819f7fcdaa9ff9eed5a08f4}{
\index{psock@{psock}!PSOCK\_\-CLOSE\_\-EXIT@{PSOCK\_\-CLOSE\_\-EXIT}}
\index{PSOCK\_\-CLOSE\_\-EXIT@{PSOCK\_\-CLOSE\_\-EXIT}!psock@{psock}}
\subsubsection[{PSOCK\_\-CLOSE\_\-EXIT}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-CLOSE\_\-EXIT(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}}
\end{DoxyParamCaption}
)}}
\label{group__psock_gac7cc1dba1819f7fcdaa9ff9eed5a08f4}
Close a protosocket and exit the protosocket's protothread.

This macro closes a protosocket and exits the protosocket's protothread.


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket. \end{DoxyParams}


Definition at line 308 of file psock.h.

\hypertarget{group__psock_ga4ab2de595d36e9e55dd61f6ecd139162}{
\index{psock@{psock}!PSOCK\_\-DATALEN@{PSOCK\_\-DATALEN}}
\index{PSOCK\_\-DATALEN@{PSOCK\_\-DATALEN}!psock@{psock}}
\subsubsection[{PSOCK\_\-DATALEN}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-DATALEN(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga4ab2de595d36e9e55dd61f6ecd139162}
The length of the data that was previously read.

This macro returns the length of the data that was previously read using \hyperlink{group__psock_gab5d9c0becf7cb32d0aaef466839dd92e}{PSOCK\_\-READTO()} or PSOCK\_\-READ().


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket holding the data. \end{DoxyParams}


Definition at line 281 of file psock.h.

\hypertarget{group__psock_ga4a264bb64ae706d53f572b1d9e4037a2}{
\index{psock@{psock}!PSOCK\_\-END@{PSOCK\_\-END}}
\index{PSOCK\_\-END@{PSOCK\_\-END}!psock@{psock}}
\subsubsection[{PSOCK\_\-END}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-END(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga4a264bb64ae706d53f572b1d9e4037a2}
Declare the end of a protosocket's protothread.

This macro is used for declaring that the protosocket's protothread ends. It must always be used together with a matching \hyperlink{group__psock_ga84901a5aa60040e96d272a69977edd22}{PSOCK\_\-BEGIN()} macro.


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket. \end{DoxyParams}


Definition at line 325 of file psock.h.

\hypertarget{group__psock_gafa11b2a1faf395ae2a6626e01c482d5d}{
\index{psock@{psock}!PSOCK\_\-EXIT@{PSOCK\_\-EXIT}}
\index{PSOCK\_\-EXIT@{PSOCK\_\-EXIT}!psock@{psock}}
\subsubsection[{PSOCK\_\-EXIT}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-EXIT(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}}
\end{DoxyParamCaption}
)}}
\label{group__psock_gafa11b2a1faf395ae2a6626e01c482d5d}
Exit the protosocket's protothread.

This macro terminates the protothread of the protosocket and should almost always be used in conjunction with \hyperlink{group__psock_ga5d56800f82bfc7bbf53bb4a659589812}{PSOCK\_\-CLOSE()}.

\begin{DoxySeeAlso}{See also}
\hyperlink{group__psock_gac7cc1dba1819f7fcdaa9ff9eed5a08f4}{PSOCK\_\-CLOSE\_\-EXIT()}
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket. \end{DoxyParams}


Definition at line 297 of file psock.h.

\hypertarget{group__psock_ga10d9a9201cba1a6db623284c475c6cea}{
\index{psock@{psock}!PSOCK\_\-GENERATOR\_\-SEND@{PSOCK\_\-GENERATOR\_\-SEND}}
\index{PSOCK\_\-GENERATOR\_\-SEND@{PSOCK\_\-GENERATOR\_\-SEND}!psock@{psock}}
\subsubsection[{PSOCK\_\-GENERATOR\_\-SEND}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-GENERATOR\_\-SEND(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}, }
\item[{}]{generator, }
\item[{}]{arg}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga10d9a9201cba1a6db623284c475c6cea}

\begin{DoxyParams}{Parameters}
\item[{\em psock}]Pointer to the protosocket. \item[{\em generator}]Pointer to the generator function \item[{\em arg}]Argument to the generator function\end{DoxyParams}
This function generates data and sends it over the protosocket. This can be used to dynamically generate data for a transmission, instead of generating the data in a buffer beforehand. This function reduces the need for buffer memory. The generator function is implemented by the application, and a pointer to the function is given as an argument with the call to \hyperlink{group__psock_ga10d9a9201cba1a6db623284c475c6cea}{PSOCK\_\-GENERATOR\_\-SEND()}.

The generator function should place the generated data directly in the uip\_\-appdata buffer, and return the length of the generated data. The generator function is called by the protosocket layer when the data first is sent, and once for every retransmission that is needed. 

Definition at line 219 of file psock.h.

\hypertarget{group__psock_ga26ae707402e494f3895a9f012a93ea29}{
\index{psock@{psock}!PSOCK\_\-INIT@{PSOCK\_\-INIT}}
\index{PSOCK\_\-INIT@{PSOCK\_\-INIT}!psock@{psock}}
\subsubsection[{PSOCK\_\-INIT}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-INIT(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}, }
\item[{}]{buffer, }
\item[{}]{buffersize}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga26ae707402e494f3895a9f012a93ea29}
Initialize a protosocket.

This macro initializes a protosocket and must be called before the protosocket is used. The initialization also specifies the input buffer for the protosocket.


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket to be initialized\item[{\em buffer}](char $\ast$) A pointer to the input buffer for the protosocket.\item[{\em buffersize}](unsigned int) The size of the input buffer. \end{DoxyParams}


Definition at line 144 of file psock.h.

\hypertarget{group__psock_ga55ce98ea4d6f22e9d5068b904d4d2447}{
\index{psock@{psock}!PSOCK\_\-NEWDATA@{PSOCK\_\-NEWDATA}}
\index{PSOCK\_\-NEWDATA@{PSOCK\_\-NEWDATA}!psock@{psock}}
\subsubsection[{PSOCK\_\-NEWDATA}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-NEWDATA(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga55ce98ea4d6f22e9d5068b904d4d2447}
Check if new data has arrived on a protosocket.

This macro is used in conjunction with the \hyperlink{group__psock_ga2ebfe5c8a7f3173714efdf2df74fc392}{PSOCK\_\-WAIT\_\-UNTIL()} macro to check if data has arrived on a protosocket.


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket. \end{DoxyParams}


Definition at line 339 of file psock.h.

\hypertarget{group__psock_gad895ab98c54d9966ff554aa873151751}{
\index{psock@{psock}!PSOCK\_\-READBUF@{PSOCK\_\-READBUF}}
\index{PSOCK\_\-READBUF@{PSOCK\_\-READBUF}!psock@{psock}}
\subsubsection[{PSOCK\_\-READBUF}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-READBUF(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}}
\end{DoxyParamCaption}
)}}
\label{group__psock_gad895ab98c54d9966ff554aa873151751}
Read data until the buffer is full.

This macro will block waiting for data and read the data into the input buffer specified with the call to \hyperlink{group__psock_ga26ae707402e494f3895a9f012a93ea29}{PSOCK\_\-INIT()}. Data is read until the buffer is full..


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket from which data should be read. \end{DoxyParams}


Definition at line 250 of file psock.h.

\hypertarget{group__psock_gab5d9c0becf7cb32d0aaef466839dd92e}{
\index{psock@{psock}!PSOCK\_\-READTO@{PSOCK\_\-READTO}}
\index{PSOCK\_\-READTO@{PSOCK\_\-READTO}!psock@{psock}}
\subsubsection[{PSOCK\_\-READTO}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-READTO(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}, }
\item[{}]{c}
\end{DoxyParamCaption}
)}}
\label{group__psock_gab5d9c0becf7cb32d0aaef466839dd92e}
Read data up to a specified character.

This macro will block waiting for data and read the data into the input buffer specified with the call to \hyperlink{group__psock_ga26ae707402e494f3895a9f012a93ea29}{PSOCK\_\-INIT()}. Data is only read until the specifieed character appears in the data stream.


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket from which data should be read.\item[{\em c}](char) The character at which to stop reading. \end{DoxyParams}


Definition at line 268 of file psock.h.

\hypertarget{group__psock_ga70d236d1cf34b4e21836edda60247b70}{
\index{psock@{psock}!PSOCK\_\-SEND@{PSOCK\_\-SEND}}
\index{PSOCK\_\-SEND@{PSOCK\_\-SEND}!psock@{psock}}
\subsubsection[{PSOCK\_\-SEND}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-SEND(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}, }
\item[{}]{data, }
\item[{}]{datalen}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga70d236d1cf34b4e21836edda60247b70}
Send data.

This macro sends data over a protosocket. The protosocket protothread blocks until all data has been sent and is known to have been received by the remote end of the TCP connection.


\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket over which data is to be sent.\item[{\em data}](char $\ast$) A pointer to the data that is to be sent.\item[{\em datalen}](unsigned int) The length of the data that is to be sent. \end{DoxyParams}


Definition at line 178 of file psock.h.

\hypertarget{group__psock_gab0ad55aa96dd1d200cd0fc5a99f6a4f7}{
\index{psock@{psock}!PSOCK\_\-SEND\_\-STR@{PSOCK\_\-SEND\_\-STR}}
\index{PSOCK\_\-SEND\_\-STR@{PSOCK\_\-SEND\_\-STR}!psock@{psock}}
\subsubsection[{PSOCK\_\-SEND\_\-STR}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-SEND\_\-STR(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}, }
\item[{}]{str}
\end{DoxyParamCaption}
)}}
\label{group__psock_gab0ad55aa96dd1d200cd0fc5a99f6a4f7}

\begin{DoxyParams}{Parameters}
\item[{\em psock}]Pointer to the protosocket. \item[{\em str}]The string to be sent.\end{DoxyParams}
This function sends a null-\/terminated string over the protosocket. 

Definition at line 191 of file psock.h.

\hypertarget{group__psock_gaa87ff36af81990e6ffe20d76d5e4606f}{
\index{psock@{psock}!PSOCK\_\-WAIT\_\-THREAD@{PSOCK\_\-WAIT\_\-THREAD}}
\index{PSOCK\_\-WAIT\_\-THREAD@{PSOCK\_\-WAIT\_\-THREAD}!psock@{psock}}
\subsubsection[{PSOCK\_\-WAIT\_\-THREAD}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-WAIT\_\-THREAD(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}, }
\item[{}]{condition}
\end{DoxyParamCaption}
)~PT\_\-WAIT\_\-THREAD(\&(({\bf psock})-\/$>${\bf pt}), (condition))}}
\label{group__psock_gaa87ff36af81990e6ffe20d76d5e4606f}


Definition at line 375 of file psock.h.

\hypertarget{group__psock_ga2ebfe5c8a7f3173714efdf2df74fc392}{
\index{psock@{psock}!PSOCK\_\-WAIT\_\-UNTIL@{PSOCK\_\-WAIT\_\-UNTIL}}
\index{PSOCK\_\-WAIT\_\-UNTIL@{PSOCK\_\-WAIT\_\-UNTIL}!psock@{psock}}
\subsubsection[{PSOCK\_\-WAIT\_\-UNTIL}]{\setlength{\rightskip}{0pt plus 5cm}\#define PSOCK\_\-WAIT\_\-UNTIL(
\begin{DoxyParamCaption}
\item[{}]{{\bf psock}, }
\item[{}]{condition}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga2ebfe5c8a7f3173714efdf2df74fc392}
Wait until a condition is true.

This macro blocks the protothread until the specified condition is true. The macro \hyperlink{group__psock_ga55ce98ea4d6f22e9d5068b904d4d2447}{PSOCK\_\-NEWDATA()} can be used to check if new data arrives when the protosocket is waiting.

Typically, this macro is used as follows:


\begin{DoxyCode}
 PT_THREAD(thread(struct psock *s, struct timer *t))
 {
   PSOCK_BEGIN(s);

   PSOCK_WAIT_UNTIL(s, PSOCK_NEWADATA(s) || timer_expired(t));
   
   if(PSOCK_NEWDATA(s)) {
     PSOCK_READTO(s, '\n');
   } else {
     handle_timed_out(s);
   }
   
   PSOCK_END(s);
 }
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
\item[{\em psock}](struct psock $\ast$) A pointer to the protosocket. \item[{\em condition}]The condition to wait for. \end{DoxyParams}


Definition at line 372 of file psock.h.



\subsection{Function Documentation}
\hypertarget{group__psock_ga3178402dd725776415bf9745e7bf92ba}{
\index{psock@{psock}!psock\_\-datalen@{psock\_\-datalen}}
\index{psock\_\-datalen@{psock\_\-datalen}!psock@{psock}}
\subsubsection[{psock\_\-datalen}]{\setlength{\rightskip}{0pt plus 5cm}{\bf u16\_\-t} psock\_\-datalen (
\begin{DoxyParamCaption}
\item[{struct {\bf psock} $\ast$}]{ psock}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga3178402dd725776415bf9745e7bf92ba}


Definition at line 254 of file psock.c.

\hypertarget{group__psock_ga86cc77c910c9a27b614fedf3ff8294bf}{
\index{psock@{psock}!psock\_\-init@{psock\_\-init}}
\index{psock\_\-init@{psock\_\-init}!psock@{psock}}
\subsubsection[{psock\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void psock\_\-init (
\begin{DoxyParamCaption}
\item[{struct {\bf psock} $\ast$}]{ psock, }
\item[{char $\ast$}]{ buffer, }
\item[{unsigned int}]{ buffersize}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga86cc77c910c9a27b614fedf3ff8294bf}
\hypertarget{group__psock_ga3b19f65e48079d8105be2a99b5b4b2ae}{
\index{psock@{psock}!psock\_\-newdata@{psock\_\-newdata}}
\index{psock\_\-newdata@{psock\_\-newdata}!psock@{psock}}
\subsubsection[{psock\_\-newdata}]{\setlength{\rightskip}{0pt plus 5cm}char psock\_\-newdata (
\begin{DoxyParamCaption}
\item[{struct {\bf psock} $\ast$}]{ s}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga3b19f65e48079d8105be2a99b5b4b2ae}


Definition at line 260 of file psock.c.

\hypertarget{group__psock_ga3b0505ebccc87d4c1ab7b0e875d53839}{
\index{psock@{psock}!PT\_\-THREAD@{PT\_\-THREAD}}
\index{PT\_\-THREAD@{PT\_\-THREAD}!psock@{psock}}
\subsubsection[{PT\_\-THREAD}]{\setlength{\rightskip}{0pt plus 5cm}PT\_\-THREAD (
\begin{DoxyParamCaption}
\item[{psock\_\-readto(struct {\bf psock} $\ast${\bf psock}, unsigned char c)}]{}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga3b0505ebccc87d4c1ab7b0e875d53839}
\hypertarget{group__psock_gadb49ec06eee4fb369d8d3a414143bb14}{
\index{psock@{psock}!PT\_\-THREAD@{PT\_\-THREAD}}
\index{PT\_\-THREAD@{PT\_\-THREAD}!psock@{psock}}
\subsubsection[{PT\_\-THREAD}]{\setlength{\rightskip}{0pt plus 5cm}PT\_\-THREAD (
\begin{DoxyParamCaption}
\item[{psock\_\-readbuf(struct {\bf psock} $\ast${\bf psock})}]{}
\end{DoxyParamCaption}
)}}
\label{group__psock_gadb49ec06eee4fb369d8d3a414143bb14}
\hypertarget{group__psock_ga7440860cfbffad961f993737932d17d7}{
\index{psock@{psock}!PT\_\-THREAD@{PT\_\-THREAD}}
\index{PT\_\-THREAD@{PT\_\-THREAD}!psock@{psock}}
\subsubsection[{PT\_\-THREAD}]{\setlength{\rightskip}{0pt plus 5cm}PT\_\-THREAD (
\begin{DoxyParamCaption}
\item[{psock\_\-generator\_\-send(struct {\bf psock} $\ast${\bf psock}, unsigned short($\ast$f)(void $\ast$), void $\ast$arg)}]{}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga7440860cfbffad961f993737932d17d7}
\hypertarget{group__psock_ga712420c615c932642b69c6c0bb8d13ac}{
\index{psock@{psock}!PT\_\-THREAD@{PT\_\-THREAD}}
\index{PT\_\-THREAD@{PT\_\-THREAD}!psock@{psock}}
\subsubsection[{PT\_\-THREAD}]{\setlength{\rightskip}{0pt plus 5cm}PT\_\-THREAD (
\begin{DoxyParamCaption}
\item[{psock\_\-send(struct {\bf psock} $\ast${\bf psock}, const char $\ast$buf, unsigned int len)}]{}
\end{DoxyParamCaption}
)}}
\label{group__psock_ga712420c615c932642b69c6c0bb8d13ac}
