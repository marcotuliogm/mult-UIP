\hypertarget{group__CLI}{
\section{Controle da CLI}
\label{group__CLI}\index{Controle da CLI@{Controle da CLI}}
}
\subsection*{Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__CLI_ga174d68ea31b56b93d67f549520156b82}{AUTO\_\-COMPLETE}~0x1b
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__CLI_ga6fdb603107a7e72ff375cebbe2e98834}{mount\_\-token} (char $\ast$data)
\begin{DoxyCompactList}\small\item\em Monta a estrutura para acesso a tabela da CLI. \item\end{DoxyCompactList}\item 
int \hyperlink{group__CLI_ga51e54cd2d0893765bc23ac6d5d09d764}{CLI\_\-Builder} (char $\ast$data, char $\ast$dest)
\begin{DoxyCompactList}\small\item\em Atende solicitacao da CLI. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_ga5e8645941f27ac06c8c1840431b89693}{cmdExec} (int($\ast$ApiFunc)(\hyperlink{structstr__t}{str\_\-t} $\ast$tp))
\begin{DoxyCompactList}\small\item\em Funcao que executa solicitacao feita na CLI. \item\end{DoxyCompactList}\item 
int \hyperlink{group__CLI_ga8baf10611274f6c9d0470f2bb87cfde5}{ExecCommand} (const \hyperlink{structcli__str}{cli\_\-str} $\ast$acp)
\begin{DoxyCompactList}\small\item\em Funcao gerencia a mensagem de resposta. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_ga1429ebccb99aee0282eeff302630c26f}{UARTTakeString} (char $\ast$str, char channel)
\begin{DoxyCompactList}\small\item\em Pega mensagem da serial. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_ga056bc670f671c73a63bb884f8164dbb3}{set\_\-IpDefault} (void)
\begin{DoxyCompactList}\small\item\em Configura com o IP inicial. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_gac548b8fa3585f3a56498153281b68db8}{set\_\-GatewayDefault} (void)
\begin{DoxyCompactList}\small\item\em Configura com o Gateway inicial. \item\end{DoxyCompactList}\item 
void \hyperlink{group__CLI_ga595578a069e4bda66aa7f801f3d19899}{set\_\-MaskDefault} (void)
\begin{DoxyCompactList}\small\item\em Configura com a mascara inicial. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structcli__str}{cli\_\-str} const \hyperlink{group__CLI_ga98f1d676d13f3f00c5ffc7b94a4f4ae1}{api\_\-cli} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em Lista com todas as funcoes da CLI. \item\end{DoxyCompactList}\item 
char \hyperlink{group__CLI_gae9fba632af0bc2e0d51efda2768bbc98}{buff\_\-cmd} \mbox{[}MAX\_\-COMMAND\_\-SIZE\mbox{]}
\item 
int \hyperlink{group__CLI_ga559568f2d8d01bc809c6b12c2f214a5f}{buff\_\-cmd\_\-counter} = 0
\end{DoxyCompactItemize}


\subsection{Define Documentation}
\hypertarget{group__CLI_ga174d68ea31b56b93d67f549520156b82}{
\index{CLI@{CLI}!AUTO\_\-COMPLETE@{AUTO\_\-COMPLETE}}
\index{AUTO\_\-COMPLETE@{AUTO\_\-COMPLETE}!CLI@{CLI}}
\subsubsection[{AUTO\_\-COMPLETE}]{\setlength{\rightskip}{0pt plus 5cm}\#define AUTO\_\-COMPLETE~0x1b}}
\label{group__CLI_ga174d68ea31b56b93d67f549520156b82}


Definition at line 23 of file cli.c.



\subsection{Function Documentation}
\hypertarget{group__CLI_ga51e54cd2d0893765bc23ac6d5d09d764}{
\index{CLI@{CLI}!CLI\_\-Builder@{CLI\_\-Builder}}
\index{CLI\_\-Builder@{CLI\_\-Builder}!CLI@{CLI}}
\subsubsection[{CLI\_\-Builder}]{\setlength{\rightskip}{0pt plus 5cm}int CLI\_\-Builder (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{ data, }
\item[{char $\ast$}]{ dest}
\end{DoxyParamCaption}
)}}
\label{group__CLI_ga51e54cd2d0893765bc23ac6d5d09d764}
Chama função para montar estrutura do comando Busca função correspondete.

Ao fim da execução dest\_\-msg esta com a resposta do sistema.


\begin{DoxyParams}{Parameters}
\item[{\em data}]Comando digitado na CLI \item[{\em dest}]Destino da resposta da CLI para o comando digitado. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
RET\_\-OK para execucao com sucesso da funcao ou RET\_\-ERROR 
\end{DoxyReturn}


Definition at line 108 of file cli.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=372pt]{group__CLI_ga51e54cd2d0893765bc23ac6d5d09d764_cgraph}
\end{center}
\end{figure}


\hypertarget{group__CLI_ga5e8645941f27ac06c8c1840431b89693}{
\index{CLI@{CLI}!cmdExec@{cmdExec}}
\index{cmdExec@{cmdExec}!CLI@{CLI}}
\subsubsection[{cmdExec}]{\setlength{\rightskip}{0pt plus 5cm}void cmdExec (
\begin{DoxyParamCaption}
\item[{int($\ast$)({\bf str\_\-t} $\ast$tp)}]{ ApiFunc}
\end{DoxyParamCaption}
)}}
\label{group__CLI_ga5e8645941f27ac06c8c1840431b89693}
Apos o comando ser interpretado funcao chamada o agente responsavel em processar o pedido


\begin{DoxyParams}{Parameters}
\item[{\em tp}]Estrutura com os dados para interpretacao do comando. \end{DoxyParams}


Definition at line 176 of file cli.c.

\hypertarget{group__CLI_ga8baf10611274f6c9d0470f2bb87cfde5}{
\index{CLI@{CLI}!ExecCommand@{ExecCommand}}
\index{ExecCommand@{ExecCommand}!CLI@{CLI}}
\subsubsection[{ExecCommand}]{\setlength{\rightskip}{0pt plus 5cm}int ExecCommand (
\begin{DoxyParamCaption}
\item[{const {\bf cli\_\-str} $\ast$}]{ acp}
\end{DoxyParamCaption}
)}}
\label{group__CLI_ga8baf10611274f6c9d0470f2bb87cfde5}
Configura o pedido feito pela CLI Chama a funcao solicitada para ser executada Configura mensagem de retorno


\begin{DoxyParams}{Parameters}
\item[{\em acp}]Estrutura apontando para o objeto na lista de funcoes da CLI. \end{DoxyParams}
\begin{DoxyReturn}{Returns}
RET\_\-OK para execucao com sucesso da funcao ou RET\_\-ERROR 
\end{DoxyReturn}


Definition at line 204 of file cli.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=266pt]{group__CLI_ga8baf10611274f6c9d0470f2bb87cfde5_cgraph}
\end{center}
\end{figure}


\hypertarget{group__CLI_ga6fdb603107a7e72ff375cebbe2e98834}{
\index{CLI@{CLI}!mount\_\-token@{mount\_\-token}}
\index{mount\_\-token@{mount\_\-token}!CLI@{CLI}}
\subsubsection[{mount\_\-token}]{\setlength{\rightskip}{0pt plus 5cm}int mount\_\-token (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{ data}
\end{DoxyParamCaption}
)}}
\label{group__CLI_ga6fdb603107a7e72ff375cebbe2e98834}
Função tratadora da entrada de comando, monta a estrutura.


\begin{DoxyParams}{Parameters}
\item[{\em data}]Comando digitado na CLI.\end{DoxyParams}
\begin{DoxyReturn}{Returns}
RET\_\-OK para execucao com sucesso da funcao ou -\/1 
\end{DoxyReturn}


Definition at line 45 of file cli.c.

\hypertarget{group__CLI_gac548b8fa3585f3a56498153281b68db8}{
\index{CLI@{CLI}!set\_\-GatewayDefault@{set\_\-GatewayDefault}}
\index{set\_\-GatewayDefault@{set\_\-GatewayDefault}!CLI@{CLI}}
\subsubsection[{set\_\-GatewayDefault}]{\setlength{\rightskip}{0pt plus 5cm}void set\_\-GatewayDefault (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}
\label{group__CLI_gac548b8fa3585f3a56498153281b68db8}
Configura o endereco de Gateway para um valor fixo 192.168.1.1 

Definition at line 258 of file cli.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{group__CLI_gac548b8fa3585f3a56498153281b68db8_cgraph}
\end{center}
\end{figure}


\hypertarget{group__CLI_ga056bc670f671c73a63bb884f8164dbb3}{
\index{CLI@{CLI}!set\_\-IpDefault@{set\_\-IpDefault}}
\index{set\_\-IpDefault@{set\_\-IpDefault}!CLI@{CLI}}
\subsubsection[{set\_\-IpDefault}]{\setlength{\rightskip}{0pt plus 5cm}void set\_\-IpDefault (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}
\label{group__CLI_ga056bc670f671c73a63bb884f8164dbb3}
Configura o endereco de IP para um valor fixo 192.168.1.13 

Definition at line 244 of file cli.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{group__CLI_ga056bc670f671c73a63bb884f8164dbb3_cgraph}
\end{center}
\end{figure}


\hypertarget{group__CLI_ga595578a069e4bda66aa7f801f3d19899}{
\index{CLI@{CLI}!set\_\-MaskDefault@{set\_\-MaskDefault}}
\index{set\_\-MaskDefault@{set\_\-MaskDefault}!CLI@{CLI}}
\subsubsection[{set\_\-MaskDefault}]{\setlength{\rightskip}{0pt plus 5cm}void set\_\-MaskDefault (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}
\label{group__CLI_ga595578a069e4bda66aa7f801f3d19899}
Configura o endereco de mascara para um valor fixo 255.255.255.0 

Definition at line 272 of file cli.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{group__CLI_ga595578a069e4bda66aa7f801f3d19899_cgraph}
\end{center}
\end{figure}


\hypertarget{group__CLI_ga1429ebccb99aee0282eeff302630c26f}{
\index{CLI@{CLI}!UARTTakeString@{UARTTakeString}}
\index{UARTTakeString@{UARTTakeString}!CLI@{CLI}}
\subsubsection[{UARTTakeString}]{\setlength{\rightskip}{0pt plus 5cm}void UARTTakeString (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{ str, }
\item[{char}]{ channel}
\end{DoxyParamCaption}
)}}
\label{group__CLI_ga1429ebccb99aee0282eeff302630c26f}
Pega os dados digitados na CLI ate que venha uma nova linha.


\begin{DoxyParams}{Parameters}
\item[{\em str}]string para o retorno do comando digitado \item[{\em channel}]Canal que sera usado pela serial. \end{DoxyParams}


Definition at line 225 of file cli.c.



Here is the call graph for this function:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{group__CLI_ga1429ebccb99aee0282eeff302630c26f_cgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{group__CLI_ga98f1d676d13f3f00c5ffc7b94a4f4ae1}{
\index{CLI@{CLI}!api\_\-cli@{api\_\-cli}}
\index{api\_\-cli@{api\_\-cli}!CLI@{CLI}}
\subsubsection[{api\_\-cli}]{\setlength{\rightskip}{0pt plus 5cm}{\bf cli\_\-str} const {\bf api\_\-cli}\mbox{[}$\,$\mbox{]}}}
\label{group__CLI_ga98f1d676d13f3f00c5ffc7b94a4f4ae1}
Lista com os parametros necessarios para as funcoes da CLI 

Definition at line 14 of file menu\_\-cli.h.

\hypertarget{group__CLI_gae9fba632af0bc2e0d51efda2768bbc98}{
\index{CLI@{CLI}!buff\_\-cmd@{buff\_\-cmd}}
\index{buff\_\-cmd@{buff\_\-cmd}!CLI@{CLI}}
\subsubsection[{buff\_\-cmd}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf buff\_\-cmd}\mbox{[}MAX\_\-COMMAND\_\-SIZE\mbox{]}}}
\label{group__CLI_gae9fba632af0bc2e0d51efda2768bbc98}


Definition at line 32 of file cli.c.

\hypertarget{group__CLI_ga559568f2d8d01bc809c6b12c2f214a5f}{
\index{CLI@{CLI}!buff\_\-cmd\_\-counter@{buff\_\-cmd\_\-counter}}
\index{buff\_\-cmd\_\-counter@{buff\_\-cmd\_\-counter}!CLI@{CLI}}
\subsubsection[{buff\_\-cmd\_\-counter}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf buff\_\-cmd\_\-counter} = 0}}
\label{group__CLI_ga559568f2d8d01bc809c6b12c2f214a5f}


Definition at line 33 of file cli.c.

